# Welcome to VendingMachine Project
Данный проект является реализацией учебного задания по специальности 09.02.07 Информационные системы и программирование. Целью данного проекта является демонстрирование полученных навыков и знаний за время обучения в учебном заведении.
Группа: 402-ИСП-18
Студент: Иванов Виталий Сергеевич
Используемые технологии: WPF, ASP.NET, .NET Core 5.

# Задача

Необходимо разработать ORM-систему, которая будет являться симуляцией работы вендинговой машины с напитками. Должен быть пользовательский интерфейс для ввода монет, выбора напитков и оплаты. Административный интерфейс должен содержать экраны для редактирования монет, напитков. Также администратор должен иметь возможность увидеть отчёт по каждому напитку с даты последнего пополнения.

# Файлы

Архитектура VednginMachine состоит из 4 проектов, которые имеют связи между собой:

 - `VendingMachine.Domain` - содержит доменные модели, которые необходимы для внутренней логики и для отправки на внешний ресурс (при запросе извне в проект API). Ссылки на другие проекты не имеет и не должен. Так как любой другой проект должен иметь возможность ссылаться на `Domain`.
 - `VendingMachine.EntitiesCore` - проект с реализацией общения приложения и базы данных. Ссылки: `Domain`.
 - `VendinngMachine.API` - `ASP.NET` проект, который предназначен для получения запросов из любого другого клиентского приложения. Ссылки: `Domain`, `EntitiesCore`.
 - `VendingMachine.UI` - одна из реализаций клиентского приложения. `WPF`-проект содержит окна и формы, необходимые для составления единого интерфейса торгового автомата.

Остальные файлы в репозитории:

 - `script.sql` - скрипт создания базы данных, сформированный с помощью средств SQL Server. Для его запуска необходимо поменять строку `D:\Programs\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\VendingMachine.mdf` и `D:\Programs\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\VendingMachine_log.ldf` , так как пути для расположения файлов БД у вас могут отличаться.
 - `script2.sql` - скрипт для создания базы данных, сформированный ручным путём. Перед его запуском достаточно создать БД с названием `VendingMachine` и запустить `script2.sql`.
 - `*.png`-файлы необходимы для ручного заполнения тестовой базы.

# Быстрый запуск

Для запуска приложения необходимо:

 1. Клонировать всё содержимое репозитория.
 2. Создать базу данных ручным или автоматическим методом на базе SQL Server. 
 3. Запустить решение проекта.
 4. Поменять в файле `VendingMachineContext.cs`, который находится в корне проекта `VendingMachine.EntitiesCore` строку подключения к базе данных в инициализации `_dbContextOptions`.
 5. Для работоспособности `ASP.NET` и `WPF` проектов в одном решении необходимо задать несколько проектов для запуска решения. Для этого нажмите ПКМ по решению `VendingMachine`, выберите пункт `Set startup projects...`. После открытия окна необходимо выбрать пункт `Multiple startup projects` и установить `Start` у проектов `API` и `UI`.
 6. Проекты готовы к запуску. После запуска решения будет запущен проект WPF-интерфейса и Web-API. 

> Примечание. После запуск решения и запуска обоих проектов можно заметить **долгую загрузку данных**. Это связанно с тем, что, запуская решение, мы каждый раз развёртываем *новый IIS-сервер* для запуска API. Известно, что после развёртывания  проект готов к функционированию, но - первый запрос на сервер побудит его подготовить временные файлы для начала полноценной работы. Именно из-за этой подготовки первый запрос имеет столь долгую задержку, последующие запросы будут сразу обрабатываться нашим сервером.

Тестовый пароль для входа в панель администратора - **123**.
 